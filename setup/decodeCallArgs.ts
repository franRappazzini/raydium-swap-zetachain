import { ethers } from "ethers";

function decode(encoded: string) {
  const decoded = ethers.AbiCoder.defaultAbiCoder().decode(
    ["tuple(tuple(bytes32 publicKey, bool isWritable)[] accounts, bytes data)"],
    encoded
  );

  console.log("Decoded accounts:", decoded[0].accounts);
  console.log("Decoded data:", ethers.toUtf8String(decoded[0].data));
}

decode(
  "0x0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000003a0000000000000000000000000000000000000000000000000000000000000000db582d17754166a25d444061fab9d4e7dd6895c6c3721ea9bb3d6ee991169342c000000000000000000000000000000000000000000000000000000000000000118a14c1ff4fdcdb919aadb9fc2340cc5047960db89930154409cccdf9a65bb42000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a978a4a684c19797f6c0119aab6ab313d4d32304f30dd249b21ae96f460f21f300000000000000000000000000000000000000000000000000000000000000004ed5110e089203c6445da240b2cb311aeb7d9651dcbdb5daf1504cc7c1bdba070000000000000000000000000000000000000000000000000000000000000001b2cf3338c8045e7f553fa5a3c16c5e7e9bd74cbf9e227a16084a7d659725e1d50000000000000000000000000000000000000000000000000000000000000001617a78688315b6974523069a058dd0f425b626ae9a36ab1c9bc95314aca91ec10000000000000000000000000000000000000000000000000000000000000001069b8857feab8184fb687f634618c035dac439dc1aeb3b5598a0f0000000000100000000000000000000000000000000000000000000000000000000000000013b442cb3912157f13a933d0134282d032b5ffecd01a2dbf1b7790608df002ea70000000000000000000000000000000000000000000000000000000000000001bd5aad2eade4d6b8e39606ccd3d9e760ccba53151bfdd569fa11c1f5d6a3fdf1000000000000000000000000000000000000000000000000000000000000000106ddf6e1d765a193d9cbe146ceeb79ac1cb485ed5f5b37913a8cf5857eff00a900000000000000000000000000000000000000000000000000000000000000005b35e250a5a87b5b3fa537e29f05c85132286724321af04528402c7b96f8dc1800000000000000000000000000000000000000000000000000000000000000017935e5cb4c76629fce14b402f68a40e506216e0aaf3cb9f3eaf50d65b4bab32600000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000003736f6c0000000000000000000000000000000000000000000000000000000000"
);
